<header>
  <h2>REKAP PULANG AWAL</h2>
</header>

<div class="filter-container">
  <div class="filter-group">
    <label for="filterTahunRekapPulang">Tahun:</label>
    <select id="filterTahunRekapPulang"></select>
  </div>
  <div class="filter-group">
    <label for="filterUnitRekapPulang">Unit Kerja:</label>
    <select id="filterUnitRekapPulang"></select>
  </div>
  
  <div class="filter-group" style="margin-left: auto;">
    <label for="searchRekapPulang" class="search-icon-label"><i class="fas fa-search"></i></label>
    <input type="search" id="searchRekapPulang" class="search-input" placeholder="Cari Data...">
  </div>
</div>

<main class="table-view-container">
  <div id="loadingRekapPulang" class="table-overlay-loader">
    <div class="spinner-container">
      <div class="spinner-bar" style="background-color: #e74c3c;"></div>
      <div class="spinner-bar" style="background-color: #2ecc71;"></div>
      <div class="spinner-bar" style="background-color: #f1c40f;"></div>
      <div class="spinner-bar" style="background-color: #3498db;"></div>
    </div>
    <p style="margin-top: 15px; color: white; font-weight: bold; letter-spacing: 1px;">Memuat Data...</p>
  </div>

  <div id="wrapperRekapPulang" class="table-wrapper-flex">
    <div class="table-container">
      <table id="rekapPulangTable" class="data-table freeze-pane-table">
        <thead></thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</main>

<style>
  /* Layout */
  #main-content { overflow-y: hidden !important; }
  main.table-view-container { flex-grow: 1 !important; min-height: 0 !important; display: flex !important; flex-direction: column !important; position: relative; }
  .table-wrapper-flex { flex-grow: 1 !important; min-height: 0 !important; display: flex !important; flex-direction: column !important; margin-bottom: 0; }
  .table-container { flex-grow: 1 !important; overflow: auto !important; border-radius: 10px; border-bottom: none; }
  .table-container::-webkit-scrollbar { display: none !important; }

  .table-overlay-loader {
      display: flex; position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
      background: rgba(0, 0, 0, 0.6); z-index: 100; 
      justify-content: center; align-items: center; flex-direction: column; 
      border-radius: 8px; backdrop-filter: blur(2px);
  }

  /* Tabel */
  #rekapPulangTable { border-collapse: separate; border-spacing: 0; width: 100%; }

  #rekapPulangTable th, #rekapPulangTable td { 
      padding: 10px 10px !important; /* Padding Tinggi 10px */
      vertical-align: middle; 
      border-bottom: 1px solid rgba(255,255,255,0.1); 
      border-right: 1px solid rgba(255,255,255,0.1); 
      font-size: 12px; 
      text-align: center; 
      white-space: nowrap; 
      box-sizing: border-box;
  }

  /* Header Freeze */
  #rekapPulangTable thead th { background-color: #101E26 !important; color: #ffffff; }
  #rekapPulangTable thead tr:first-child th { position: sticky; top: 0; height: 40px; z-index: 20; border-bottom: 1px solid rgba(255,255,255,0.1); }
  #rekapPulangTable thead tr:nth-child(2) th { position: sticky; top: 40px; height: 40px; z-index: 20; border-bottom: 2px solid rgba(0, 195, 255, 0.5); }

  /* Kolom Freeze */
  #rekapPulangTable tbody td:nth-child(1) { position: sticky; left: 0; z-index: 10; background-color: #1c2e3a; width: 50px; min-width: 50px; max-width: 50px; }
  #rekapPulangTable tbody td:nth-child(2) { position: sticky; left: 50px; z-index: 10; background-color: #1c2e3a; text-align: left !important; min-width: 200px; }

  /* Sudut Mati */
  #rekapPulangTable thead tr:first-child th:nth-child(1) { position: sticky !important; left: 0 !important; top: 0 !important; z-index: 40 !important; width: 50px; min-width: 50px; max-width: 50px; }
  #rekapPulangTable thead tr:first-child th:nth-child(2) { position: sticky !important; left: 50px !important; top: 0 !important; z-index: 40 !important; min-width: 200px; }

  /* Lainnya */
  #rekapPulangTable tbody td:nth-child(2), #rekapPulangTable tbody td:nth-child(3) { text-align: left; }
  
  /* Rata Tengah untuk Kolom 3 (NIP) - Jika diinginkan */
  #rekapPulangTable tbody td:nth-child(3) { text-align: center !important; }

  /* Warna Kolom Terakhir */
  #rekapPulangTable tbody td:nth-last-child(1), #rekapPulangTable tbody td:nth-last-child(2) { background-color: rgba(46, 204, 113, 0.15); color: #2ecc71; font-weight: bold; }

  #rekapPulangTable tbody tr:hover td { background-color: rgba(255, 255, 255, 0.08); }
  #rekapPulangTable tbody tr:hover td:nth-child(1), #rekapPulangTable tbody tr:hover td:nth-child(2) { background-color: #2a4152 !important; }
</style>
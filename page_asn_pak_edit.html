<header>
  <h2>PERBAIKAN DATA PAK</h2>
</header>

<main class="manual-form form-tab-container">
  
  <div id="skeleton-loader">
    <div class="form-grid"><div class="form-group"><div class="skeleton skeleton-text"></div><div class="skeleton skeleton-input"></div></div><div class="form-group"><div class="skeleton skeleton-text"></div><div class="skeleton skeleton-input"></div></div></div>
    <div class="form-footer"><div class="skeleton skeleton-button" style="width: 150px;"></div></div>
  </div>

  <form id="pakEditForm" style="display: none;">
    <input type="hidden" name="rowIndex" id="rowIndexPak">
    <input type="hidden" name="oldSheetName" id="oldSheetNamePak">
    <input type="hidden" name="idPak" id="idPakEdit">
    <input type="hidden" name="existingFileUrl" id="existingFileUrlPak">

    <div class="form-grid-12">
      <div class="col-span-6">
        <div class="form-group">
          <label>Unit Kerja</label>
          <input type="text" id="unitKerjaPakEdit" name="unitKerja" readonly style="background: rgba(0,0,0,0.3); cursor: not-allowed;">
        </div>
      </div>
      <div class="col-span-6">
        <div class="form-group">
          <label>Nama ASN</label>
          <input type="text" id="namaAsnPakEdit" name="namaAsn" readonly style="background: rgba(0,0,0,0.3); cursor: not-allowed;">
        </div>
      </div>
    </div>

    <div class="form-grid-12">
      <div class="col-span-6">
        <div class="form-group">
          <label>NIP</label>
          <input type="text" id="nipPakEdit" name="nip" readonly style="background: rgba(0,0,0,0.3); cursor: not-allowed;">
        </div>
      </div>
      <div class="col-span-6">
        <div class="form-group">
          <label for="pangkatPakEdit">Pangkat, Gol./Ruang</label>
          <select id="pangkatPakEdit" name="pangkat" required>
             </select>
        </div>
      </div>
    </div>

    <div class="form-grid-12">
      <div class="col-span-6">
        <div class="form-group">
          <label for="tmtPakEdit">TMT KP Terakhir</label>
          <input type="date" id="tmtPakEdit" name="tmt" required>
        </div>
      </div>
      <div class="col-span-6">
        <div class="form-group">
          <label for="jabatanPakEdit">Jabatan</label>
          <select id="jabatanPakEdit" name="jabatan" required>
             </select>
        </div>
      </div>
    </div>

    <div class="form-grid-12" style="margin-bottom: 30px;">
      <div class="col-span-6">
        <div class="form-group">
          <label for="tahunPakEdit">Tahun PAK</label>
          <select id="tahunPakEdit" name="tahun" required>
             </select>
        </div>
      </div>
      <div class="col-span-6">
        <div class="form-group">
          <label for="kreditPakEdit">Jumlah Angka Kredit</label>
          <input type="text" id="kreditPakEdit" name="kredit" inputmode="decimal" required>
          <p class="input-hint" style="color:#f1c40f;">Gunakan tanda koma (,) sebagai pemisah desimal.</p>
        </div>
      </div>
    </div>

    <div class="form-group">
        <label>Dokumen Saat Ini</label>
        <div id="currentDocLinkPak" style="margin-top:5px; padding:10px; background:rgba(255,255,255,0.05); border-radius:6px;"></div>
    </div>

    <div class="form-group">
      <label for="filePakEdit">Ganti Dokumen (Opsional - PDF, Maks. 1 MB)</label>
      <input type="file" id="filePakEdit" name="fileData" accept=".pdf">
    </div>

    <div class="tab-form-footer">
      <button type="button" class="submit-btn prev-tab-btn" onclick="App.loadPage(null, 'asn_pak_kelola')" style="width:auto; background:rgba(255,255,255,0.1);">Batal</button>
      <button type="submit" class="submit-btn" id="submitBtnPakEdit">Simpan Perubahan</button>
    </div>

  </form>
</main>

<style>
  /* Reuse Styles */
  main.manual-form.form-tab-container {
      display: flex !important; flex-direction: column !important;
      height: calc(100vh - 140px) !important; max-height: calc(100vh - 140px) !important;
      min-height: 400px !important; overflow-y: auto !important;
      padding-bottom: 20px !important; position: relative !important;
      scrollbar-width: none; 
  }
  main.manual-form.form-tab-container::-webkit-scrollbar { display: none; }
  .form-group label { font-weight: 600; color: #ecf0f1; display: block; margin-bottom: 5px; }
  .input-hint { font-size: 0.85em; color: #bdc3c7; margin-top: 5px; }
  
  .view-doc-btn {
      display: inline-flex; align-items: center; justify-content: center;
      background-color: rgba(52, 152, 219, 0.2); border: 1px solid rgba(52, 152, 219, 0.5);
      color: #3498db; border-radius: 5px; padding: 8px 15px; 
      cursor: pointer; font-size: 14px; font-weight: bold; text-decoration: none;
  }
  .view-doc-btn:hover { background-color: rgba(52, 152, 219, 0.4); color: white; }
</style>